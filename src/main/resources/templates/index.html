
<!DOCTYPE html>
<html>
<head>
    <title>WebScraper</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        body{
            background: linear-gradient(135deg,#283048,#859398);
            font-family: Poppins, Arial;
        }

        .navbar {
            border-bottom: 3px solid rgba(255,255,255,.2);
        }

        .content-box {
            background: rgba(255,255,255,.85);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 12px 32px rgba(0,0,0,.2);
            backdrop-filter: blur(10px);
        }

        h2 {
            font-weight: 600;
        }

        input {
            border-radius: 10px;
            border: 2px solid #0077ff;
            background: white;
        }

        input:focus{
            border-color:#0050aa;
        }

        button {
            border-radius: 10px;
            font-size: 18px;
            padding: 12px;
        }

        #images img {
            border-radius: 12px;
            margin: 10px;
            transition: transform .3s;
        }
        #images img:hover {
            transform: scale(1.07);
        }

        #videos video{
            margin: 10px;
            border-radius: 12px;
        }

        #links a{
            color:#004080;
            text-decoration:none;
            font-weight:600;
        }
        #links a:hover{
            color:#000;
            text-decoration:underline;
        }
    </style>

<body>

<nav class="navbar navbar-dark bg-dark shadow">
    <div class="container">
        <span class="navbar-brand">Web Scraper</span>
    </div>
</nav>

<div class="container mt-5">
    <div class="content-box">

        <h2 class="text-center text-dark">Extract Website Content</h2>

        <input type="text" id="urlInput" class="form-control mt-3"
               placeholder="Enter website URL">

        <button onclick="scrape();"
                class="btn btn-dark w-100 mt-3">
            Scrape Now
        </button>

        <hr class="mt-4">

        <h4 class="mt-4 text-dark">Images</h4>
        <div id="images" class="d-flex flex-wrap"></div>

        <h4 class="mt-4 text-dark">Links</h4>
        <div id="links"></div>

        <h4 class="mt-4 text-dark">Videos</h4>
        <div id="videos"></div>

    </div>
</div>


<!-- Toast -->
<div id="errorToast" class="toast position-fixed bottom-0 end-0 m-3 text-bg-danger" data-bs-delay="3000">
    <div class="toast-body" id="toastMsg"></div>
</div>

<script>
    function scrape() {
        const url = document.getElementById("urlInput").value;

        fetch(`/api/scrape?url=${encodeURIComponent(url)}`)
            .then(response => {
                if (!response.ok) throw new Error("Bad response");
                return response.json();
            })
            .then(data => {
                document.getElementById("images").innerHTML = data.images?.length
                    ? data.images.map(i => `<img src="${i}" width="120" class="m-2">`).join("")
                    : "<p>No images found.</p>";

                document.getElementById("links").innerHTML = data.links?.length
                    ? data.links.map(l => `<p><a href="${l}" target="_blank">${l}</a></p>`).join("")
                    : "<p>No links found.</p>";

                document.getElementById("videos").innerHTML = data.videos?.length
                    ? data.videos.map(v => `<video src="${v}" width="250" controls class="m-2"></video>`).join("")
                    : "<p>No videos found.</p>";
            })
            .catch(err => {
                console.log(err);
                alert("Error. API unreachable.");
            })
    }
</script>

<hr style="border-color:#333;">
<footer style="text-align:center; padding:10px; color:#4caf50;">
    Developed by <span style="color:white;">Saiful Aziz</span>
</footer>

</body>
</html>

